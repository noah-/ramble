syntax = "proto3";

package ramble.api;

import "ramble-message.proto";

option java_package = "ramble.api";
option java_outer_classname = "MessageSyncProtocol";

message Request {
  oneof request_type {
    GetAllMessages getAllMessages = 1;
    GetMessages getMessages = 2;
    BroadcastMessages broadcastMessages = 3;
  }
}

message Response {
  oneof response_type {
    SendMessages sendMessage = 1;
    Ack ack = 2;
  }
}

message Ack {

}

message GetAllMessages {

}

message GetMessages {
  repeated bytes messageDigest = 1;
}

message SendMessages {
  BulkSignedMessage messages = 1;
}

message BroadcastMessages {
  BulkSignedMessage messages = 1;
}
